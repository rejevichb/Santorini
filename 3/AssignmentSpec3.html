<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>3 --- Exploring Your Favorite Programming Language Some More</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Software Development</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right"></td><td><a href="abstract.html" class="tocviewlink" data-pltdoc="x">Abstract</a></td></tr><tr><td align="right"></td><td><a href="general.html" class="tocviewlink" data-pltdoc="x">General</a></td></tr><tr><td align="right"></td><td><a href="schedule.html" class="tocviewlink" data-pltdoc="x">Schedule</a></td></tr><tr><td align="right"></td><td><a href="lectures.html" class="tocviewlink" data-pltdoc="x">Lectures</a></td></tr><tr><td align="right"></td><td><a href="readings.html" class="tocviewlink" data-pltdoc="x">Readings</a></td></tr><tr><td align="right"></td><td><a href="communication.html" class="tocviewlink" data-pltdoc="x">Communication</a></td></tr><tr><td align="right"></td><td><a href="lab.html" class="tocviewlink" data-pltdoc="x">Lab Book</a></td></tr><tr><td align="right"></td><td><a href="projects.html" class="tocviewlink" data-pltdoc="x">Projects, General</a></td></tr><tr><td align="right"></td><td><a href="assignments.html" class="tocviewselflink" data-pltdoc="x">Projects, Specifics</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9660;</a></td><td></td><td><a href="assignments.html" class="tocviewlink" data-pltdoc="x">Projects, Specifics</a></td></tr></table><div class="tocviewsublist" style="display: block;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right"></td><td><a href="readme.html" class="tocviewlink" data-pltdoc="x">Read Me</a></td></tr><tr><td align="right"></td><td><a href="testme.html" class="tocviewlink" data-pltdoc="x">Test Me</a></td></tr><tr><td align="right"></td><td><a href="resources.html" class="tocviewlink" data-pltdoc="x">Resources</a></td></tr><tr><td align="right"></td><td><a href="santorini.html" class="tocviewlink" data-pltdoc="x">Santorini</a></td></tr><tr><td align="right"></td><td><a href="1.html" class="tocviewlink" data-pltdoc="x">1 &#8212;<wbr></wbr> Your Favorite Programming Language</a></td></tr><tr><td align="right"></td><td><a href="2.html" class="tocviewlink" data-pltdoc="x">2 &#8212;<wbr></wbr> Exploring Your Favorite Programming Language</a></td></tr><tr><td align="right"></td><td><a href="" class="tocviewselflink" data-pltdoc="x">3 &#8212;<wbr></wbr> Exploring Your Favorite Programming Language Some More</a></td></tr><tr><td align="right"></td><td><a href="fest3.html" class="tocviewlink" data-pltdoc="x"><span style="color: red">Week 3 Test Results</span></a></td></tr><tr><td align="right"></td><td><a href="4.html" class="tocviewlink" data-pltdoc="x">4 &#8212;<wbr></wbr> Implementing Protocols, Analyzing the Project</a></td></tr><tr><td align="right"></td><td><a href="4fest.html" class="tocviewlink" data-pltdoc="x"><span style="color: red">Week 4 Grades</span></a></td></tr><tr><td align="right"></td><td><a href="5.html" class="tocviewlink" data-pltdoc="x">5 &#8212;<wbr></wbr> Designing Interfaces for the Common Ontology</a></td></tr><tr><td align="right"></td><td><a href="6.html" class="tocviewlink" data-pltdoc="x">6 &#8212;<wbr></wbr> Implementing Common Pieces</a></td></tr><tr><td align="right"></td><td><a href="6fest.html" class="tocviewlink" data-pltdoc="x"><span style="color: red">Week 6 Test Results</span></a></td></tr><tr><td align="right"></td><td><a href="7.html" class="tocviewlink" data-pltdoc="x">7 &#8212;<wbr></wbr> Implementing <span class="strike" style="text-decoration:line-through">the Player Interface and</span> the Rule Checker</a></td></tr><tr><td align="right"></td><td><a href="7fest.html" class="tocviewlink" data-pltdoc="x"><span style="color: red">Week 7 Test Results</span></a></td></tr><tr><td align="right"></td><td><a href="8.html" class="tocviewlink" data-pltdoc="x">8 &#8212;<wbr></wbr> Implementing the Player&rsquo;s <span class="strike" style="text-decoration:line-through">and its</span> Strategy</a></td></tr><tr><td align="right"></td><td><a href="8fest.html" class="tocviewlink" data-pltdoc="x"><span style="color: red">Week 8 Test Results</span></a></td></tr><tr><td align="right"></td><td><a href="9.html" class="tocviewlink" data-pltdoc="x">9 &#8212;<wbr></wbr> Implementing the Referee</a></td></tr><tr><td align="right"></td><td><a href="9fest.html" class="tocviewlink" data-pltdoc="x"><span style="color: red">Week 9 Code Inspection Results</span></a></td></tr><tr><td align="right"></td><td><a href="10.html" class="tocviewlink" data-pltdoc="x">10 &#8212;<wbr></wbr> Implementing an Observer</a></td></tr><tr><td align="right"></td><td><a href="10fest.html" class="tocviewlink" data-pltdoc="x"><span style="color: red">Week 10 Test Results</span></a></td></tr><tr><td align="right"></td><td><a href="11.html" class="tocviewlink" data-pltdoc="x">11 &#8212;<wbr></wbr> Implementing the Tournament Manager</a></td></tr><tr><td align="right"></td><td><a href="11fest.html" class="tocviewlink" data-pltdoc="x"><span style="color: red">Week 11 Test Results</span></a></td></tr><tr><td align="right"></td><td><a href="12.html" class="tocviewlink" data-pltdoc="x">12 &#8212;<wbr></wbr> Implementing Tournament Observers&#8212;<wbr></wbr><span style="color: red">Bonus</span></a></td></tr><tr><td align="right"></td><td><a href="12fest.html" class="tocviewlink" data-pltdoc="x"><span style="color: red">Week 12 Code Inspection Results</span></a></td></tr><tr><td align="right"></td><td><a href="13.html" class="tocviewlink" data-pltdoc="x">13 &#8212;<wbr></wbr> Implementing Remote Proxies</a></td></tr><tr><td align="right"></td><td><a href="13fest.html" class="tocviewlink" data-pltdoc="x"><span style="color: red">Week 13 Test Results</span></a></td></tr><tr><td align="right"></td><td><a href="14.html" class="tocviewlink" data-pltdoc="x">14 &#8212;<wbr></wbr> Time to Reflect</a></td></tr><tr><td align="right"></td><td><a href="14fest.html" class="tocviewlink" data-pltdoc="x"><span style="color: red">Week 14 Memo Inspection Results</span></a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;">&bull;</td><td></td><td><a href="" class="tocviewselflink" data-pltdoc="x">3 &#8212;<wbr></wbr> Exploring Your Favorite Programming Language Some More</a></td></tr></table></div></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">7.1.0.8</span></div><div class="navsettop"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="2.html" title="backward to &quot;2 --- Exploring Your Favorite Programming Language&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="assignments.html" title="up to &quot;Projects, Specifics&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="fest3.html" title="forward to &quot;Week 3 Test Results&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h4><a name="(part._3)"></a>3 &#8212;<wbr></wbr> Exploring Your Favorite Programming Language Some More</h4><a name="(part._chap~3a3)"></a><p><span style="font-weight: bold">Due</span> Monday, September 17, midnight</p><p><div class="SIntrapara"><span style="font-weight: bold">Delivery</span> You must deliver five artifacts in a directory called <span class="stt">3</span>:
</div><div class="SIntrapara"><ul><li><p><span class="stt">3</span>, the artifact for task 1;</p></li><li><p><span class="stt">server-for-given-2spread.PP</span>, which is the artifact for task 2;</p><p><span class="stt">PP</span> is a language-specific suffix.</p><p><span style="color: red">If your chosen language demands capitalized file names, as Haskell
does, you may name this artifact <span class="strike" style="text-decoration:line-through"><span class="stt">Seever-for-given-2spread.pdf</span></span>
<span style="color: blue"><span class="stt">Server-for-given-2spread.PP</span></span>.</span></p></li><li><p><span class="stt">client</span>, an executable that exercises the <span class="stt">spread</span> component
you received (task 3);</p></li><li><p><span class="stt">tests</span>, a folder with one test case for <span class="stt">client</span>, part of task 3;</p></li><li><p><span class="stt">server-spread.pdf</span> <span style="color: blue">or <span class="stt">server-spread.md</span></span>, the artifact for task 4.</p></li></ul></div><div class="SIntrapara">All auxiliary files must be put into a sub-directory called <span class="stt">Aux</span>.</div></p><p><span style="color: red">If you are coding on a Windows 10 computer, you may name this
directory <span class="stt">Auxiliary</span>.</span></p><p><span style="color: blue">Task 1</span> Since your eventual product will consist of a server and
remote clients, your manager wishes to understand how well your chosen
language deals with TCP connections. Develop a TCP server program that
allows clients to connect on port 8000. A client sends over JSON
values. The server reads all those JSON values from the TCP input
stream until the stream is closed. At that point, the server sends all the
JSON values back to the TCP output stream, each on a separated line,
embedded in a JSON array that indicates its reverse position in the stream
(counting down to 0).</p><p><span class="refelem"><span class="refcolumn"><span class="refcontent">The idea form of reuse is simply importing the code
<span style="font-style: italic">without</span> modification.</span></span></span></p><p>Clearly, this server is just a wrapper around the solution of task 2 of
<a href="2.html" data-pltdoc="x">2 &#8212;<wbr></wbr> Exploring Your Favorite Programming Language</a>. Reuse your code. Improve as needed.</p><p><span style="color: blue">Task 2</span> Surprise! You live in Codemanistan and your team manager has
deposited a <span class="stt">given-2spread.pdf</span> from some other team in your repo&rsquo;s
directory <span class="stt">3</span>. Implement the specification.</p><p><span style="color: red">If the given specification does not articulate what is to be computed
in certain situations, you may implement whatever is convenient.

If the specification requests capabilities that are unnecessary to
implement <span class="stt">client</span> (see below), you do not have to implement them. A
request for a graphical interface is a good example; it is both unnecessary
and demonstrates that the specifiers failed to understand the difference
between the meaning of a spreadsheet (aka <span style="font-style: italic">model</span>) and its
graphical rendering (aka <span style="font-style: italic">view</span>)</span></p><p><span style="color: blue">Task 3</span> <span class="strike" style="text-decoration:line-through">Also</span> Implement <span class="stt">client</span>, an executable that relies on your
<span style="font-style: italic">own</span> specification (<span class="stt">2spread.pdf</span>) <span style="color: blue">to build and query
spreadsheets. Once you get your requested implementation back, you can link
it to the client to obtain a complete program.</span> <span style="color: red">As announced in class,
you will work on the linking in class on Tuesday.</span></p><p>The client must read JSON values from <span class="stt">STDIN</span> and print answers to
<span class="stt">STDOUT</span>. Roughly speaking, a user of the interactive harness can
request the creation of a spreadsheet, give a name to a spreadsheet, place
a new formula into a cell of a specific spreadsheet, and ask for the value
of a cell.</p><p><div class="SIntrapara">Here are the <span style="font-style: italic">well-formed JSON</span> values it must deal with::
</div><div class="SIntrapara"><ul><li><p><span style="font-style: italic">named spreadsheet</span></p><p><span class="stt">["sheet", name:string, [[JF, ...] ...]]</span></p><p>The command is <span style="font-style: italic">valid</span> if the "array" in the third position forms  a
rectangle of <a href="#%28tech._jf%29" class="techoutside" data-pltdoc="x"><span class="techinside">JF</span></a>s and all <span class="stt">"&gt;"</span> formulas point to a valid cell in
this rectangle.</p><p>A valid <span style="font-style: italic">named-spreadsheet</span> command creates a spreadsheet and
gives it the specified name.  Other commands can refer to the spreadsheet
via this name. It produces no output.</p></li><li><p><span style="font-style: italic">set request</span></p><p><span class="stt">["set" , name:string, x:N, y:N, JF]</span></p><p>The command is <span style="font-style: italic">valid</span> if the named spreadsheet has a cell at
<span style="font-style: italic"></span>(<span style="font-style: italic">x,y</span>)<span style="font-style: italic"></span> and all <span class="stt">"&gt;"</span> formulas in JF point to a valid cell in the
named spreadsheet.</p><p>A valid <span style="font-style: italic">set-request</span> command replaces the formula in cell
<span style="font-style: italic"></span>(<span style="font-style: italic">x,y</span>)<span style="font-style: italic"></span> with the given one. It produces no output.</p></li><li><p><span style="font-style: italic">at request</span></p><p><span class="stt">["at", name:string, x:N, y:N]</span></p><p>The command is <span style="font-style: italic">valid</span> if the named spreadsheet has a cell at
<span style="font-style: italic"></span>(<span style="font-style: italic">x,y</span>)<span style="font-style: italic"></span>.</p><p>A valid <span style="font-style: italic">at</span> command determines the value of the cell <span style="font-style: italic"></span>(<span style="font-style: italic">x,y</span>)<span style="font-style: italic"></span>
in the named spreadsheet and prints it to <span class="stt">STDOUT</span>. If the evaluation
of the formula discovers a circularity (self-reference) in the
spreadsheet, the client must write <span class="stt">false</span>. </p></li></ul></div><div class="SIntrapara">All non-well-formed JSON values are discarded. If a user enters a non-JSON
string, the program may crash.</div></p><p>You must make a decision whether (or how much) <span class="stt">client</span> can check the
validity of well-formed JSON expressions <span style="font-style: italic">without</span> re-implementing the
spreadsheet functionality yourself. For cases when it can&rsquo;t, it must
collaborate with the server&#8212;<wbr></wbr>but you need to rely on our own
specification to make this decision.</p><p><div class="SIntrapara">The well-formed JSON format for Formulas is as follows:
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0"><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><a name="(tech._jf)"></a><span style="font-style: italic">JF</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">is one of:</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">-- number</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">-- ["&gt;", N, N]</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">-- [</span><a href="#%28tech._jf%29" class="techoutside" data-pltdoc="x"><span class="techinside">JF</span></a><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">, "+", </span><a href="#%28tech._jf%29" class="techoutside" data-pltdoc="x"><span class="techinside">JF</span></a><span class="stt">]</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">-- [</span><a href="#%28tech._jf%29" class="techoutside" data-pltdoc="x"><span class="techinside">JF</span></a><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">, "*", </span><a href="#%28tech._jf%29" class="techoutside" data-pltdoc="x"><span class="techinside">JF</span></a><span class="stt">]</span></p></td></tr></table></div><div class="SIntrapara"><a name="(tech._n)"></a><span style="font-style: italic">N</span> is a (natural) number (0, 1, 2, ...). This implies that cells
are referenced with coordinates starting at 0. Following computer graphics,
the x axis goes from left to right and the y axis from top to bottom.</div></p><p>Create the folder <span class="stt">tests</span> with two files: <span class="stt">1-in.json</span> and
<span class="stt">1-out.json</span>. The former specifies a series of JSON values that are
inputs for the client; the latter specify the expected outputs.</p><p><span style="color: blue">Task 4</span> Your company has decided to build a spreadsheet "micro
service"<span class="refelem"><span class="refcolumn"><span class="refcontent">If you are unfamiliar with this term, google it.
The knowledge may come in handy if you interview with Amazon.</span></span></span> so
that it can commercialize it as <span class="stt">spread.com</span>. They have put you in
charge of adding a complete protocol specification for the server, that is,
a description of how clients connect to the server (ordering of messages,
shape of messages).</p><p>You may assume that your subs in Codemanistan will wrap their amazing
client program with a TCP-based server.</p><div class="navsetbottom"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="2.html" title="backward to &quot;2 --- Exploring Your Favorite Programming Language&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="assignments.html" title="up to &quot;Projects, Specifics&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="fest3.html" title="forward to &quot;Week 3 Test Results&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>