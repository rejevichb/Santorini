<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>8 --- Implementing the Player's and its Strategy</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Software Development</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right"></td><td><a href="abstract.html" class="tocviewlink" data-pltdoc="x">Abstract</a></td></tr><tr><td align="right"></td><td><a href="general.html" class="tocviewlink" data-pltdoc="x">General</a></td></tr><tr><td align="right"></td><td><a href="schedule.html" class="tocviewlink" data-pltdoc="x">Schedule</a></td></tr><tr><td align="right"></td><td><a href="lectures.html" class="tocviewlink" data-pltdoc="x">Lectures</a></td></tr><tr><td align="right"></td><td><a href="readings.html" class="tocviewlink" data-pltdoc="x">Readings</a></td></tr><tr><td align="right"></td><td><a href="communication.html" class="tocviewlink" data-pltdoc="x">Communication</a></td></tr><tr><td align="right"></td><td><a href="lab.html" class="tocviewlink" data-pltdoc="x">Lab Book</a></td></tr><tr><td align="right"></td><td><a href="projects.html" class="tocviewlink" data-pltdoc="x">Projects, General</a></td></tr><tr><td align="right"></td><td><a href="assignments.html" class="tocviewselflink" data-pltdoc="x">Projects, Specifics</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9660;</a></td><td></td><td><a href="assignments.html" class="tocviewlink" data-pltdoc="x">Projects, Specifics</a></td></tr></table><div class="tocviewsublist" style="display: block;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right"></td><td><a href="readme.html" class="tocviewlink" data-pltdoc="x">Read Me</a></td></tr><tr><td align="right"></td><td><a href="testme.html" class="tocviewlink" data-pltdoc="x">Test Me</a></td></tr><tr><td align="right"></td><td><a href="resources.html" class="tocviewlink" data-pltdoc="x">Resources</a></td></tr><tr><td align="right"></td><td><a href="santorini.html" class="tocviewlink" data-pltdoc="x">Santorini</a></td></tr><tr><td align="right"></td><td><a href="1.html" class="tocviewlink" data-pltdoc="x">1 &#8212;<wbr></wbr> Your Favorite Programming Language</a></td></tr><tr><td align="right"></td><td><a href="2.html" class="tocviewlink" data-pltdoc="x">2 &#8212;<wbr></wbr> Exploring Your Favorite Programming Language</a></td></tr><tr><td align="right"></td><td><a href="3.html" class="tocviewlink" data-pltdoc="x">3 &#8212;<wbr></wbr> Exploring Your Favorite Programming Language Some More</a></td></tr><tr><td align="right"></td><td><a href="fest3.html" class="tocviewlink" data-pltdoc="x"><span style="color: red">Week 3 Test Results</span></a></td></tr><tr><td align="right"></td><td><a href="4.html" class="tocviewlink" data-pltdoc="x">4 &#8212;<wbr></wbr> Implementing Protocols, Analyzing the Project</a></td></tr><tr><td align="right"></td><td><a href="4fest.html" class="tocviewlink" data-pltdoc="x"><span style="color: red">Week 4 Grades</span></a></td></tr><tr><td align="right"></td><td><a href="5.html" class="tocviewlink" data-pltdoc="x">5 &#8212;<wbr></wbr> Designing Interfaces for the Common Ontology</a></td></tr><tr><td align="right"></td><td><a href="6.html" class="tocviewlink" data-pltdoc="x">6 &#8212;<wbr></wbr> Implementing Common Pieces</a></td></tr><tr><td align="right"></td><td><a href="6fest.html" class="tocviewlink" data-pltdoc="x"><span style="color: red">Week 6 Test Results</span></a></td></tr><tr><td align="right"></td><td><a href="7.html" class="tocviewlink" data-pltdoc="x">7 &#8212;<wbr></wbr> Implementing <span class="strike" style="text-decoration:line-through">the Player Interface and</span> the Rule Checker</a></td></tr><tr><td align="right"></td><td><a href="7fest.html" class="tocviewlink" data-pltdoc="x"><span style="color: red">Week 7 Test Results</span></a></td></tr><tr><td align="right"></td><td><a href="" class="tocviewselflink" data-pltdoc="x">8 &#8212;<wbr></wbr> Implementing the Player&rsquo;s <span class="strike" style="text-decoration:line-through">and its</span> Strategy</a></td></tr><tr><td align="right"></td><td><a href="8fest.html" class="tocviewlink" data-pltdoc="x"><span style="color: red">Week 8 Test Results</span></a></td></tr><tr><td align="right"></td><td><a href="9.html" class="tocviewlink" data-pltdoc="x">9 &#8212;<wbr></wbr> Implementing the Referee</a></td></tr><tr><td align="right"></td><td><a href="9fest.html" class="tocviewlink" data-pltdoc="x"><span style="color: red">Week 9 Code Inspection Results</span></a></td></tr><tr><td align="right"></td><td><a href="10.html" class="tocviewlink" data-pltdoc="x">10 &#8212;<wbr></wbr> Implementing an Observer</a></td></tr><tr><td align="right"></td><td><a href="10fest.html" class="tocviewlink" data-pltdoc="x"><span style="color: red">Week 10 Test Results</span></a></td></tr><tr><td align="right"></td><td><a href="11.html" class="tocviewlink" data-pltdoc="x">11 &#8212;<wbr></wbr> Implementing the Tournament Manager</a></td></tr><tr><td align="right"></td><td><a href="11fest.html" class="tocviewlink" data-pltdoc="x"><span style="color: red">Week 11 Test Results</span></a></td></tr><tr><td align="right"></td><td><a href="12.html" class="tocviewlink" data-pltdoc="x">12 &#8212;<wbr></wbr> Implementing Tournament Observers&#8212;<wbr></wbr><span style="color: red">Bonus</span></a></td></tr><tr><td align="right"></td><td><a href="12fest.html" class="tocviewlink" data-pltdoc="x"><span style="color: red">Week 12 Code Inspection Results</span></a></td></tr><tr><td align="right"></td><td><a href="13.html" class="tocviewlink" data-pltdoc="x">13 &#8212;<wbr></wbr> Implementing Remote Proxies</a></td></tr><tr><td align="right"></td><td><a href="13fest.html" class="tocviewlink" data-pltdoc="x"><span style="color: red">Week 13 Test Results</span></a></td></tr><tr><td align="right"></td><td><a href="14.html" class="tocviewlink" data-pltdoc="x">14 &#8212;<wbr></wbr> Time to Reflect</a></td></tr><tr><td align="right"></td><td><a href="14fest.html" class="tocviewlink" data-pltdoc="x"><span style="color: red">Week 14 Memo Inspection Results</span></a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;">&bull;</td><td></td><td><a href="" class="tocviewselflink" data-pltdoc="x">8 &#8212;<wbr></wbr> Implementing the Player&rsquo;s <span class="strike" style="text-decoration:line-through">and its</span> Strategy</a></td></tr></table></div></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">7.1.0.8</span></div><div class="navsettop"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="7fest.html" title="backward to &quot;Week 7 Test Results&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="assignments.html" title="up to &quot;Projects, Specifics&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="8fest.html" title="forward to &quot;Week 8 Test Results&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h4><a name="(part._8)"></a>8 &#8212;<wbr></wbr> Implementing the Player&rsquo;s <span class="strike" style="text-decoration:line-through">and its</span> Strategy</h4><a name="(part._chap~3a8)"></a><p><span style="font-weight: bold">Due</span> Monday, October 15, midnight</p><p><span style="font-weight: bold">Delivery</span> For this assignment, you will still place the design documents
into the <span class="stt">Design/</span> folder and Santorini-specific code into the appropriate
<span class="stt">Santorini/</span> sub-directory.</p><p>The <span class="stt">xstrategy</span> harness goes into your <span class="stt">8/</span> directory, while the tests
go into <span class="stt">8/strategy-tests</span>.</p><p><span style="color: blue">Design Task</span> Although we are the implementors of the player components at
the moment, we have to expect that others will supply AI players and we have a
mechanism to oversee games between them. Specifically, our mechanism will
ensure that the outside player components follow the rules of the game. (See
<a href="plan.pdf">the Company&rsquo;s Plan</a>.) Our company dubs this component a
<span style="font-style: italic">Referee</span>.</p><p>It is time to design the referee component. Ask yourself what this referee
needs to know about the players and the Santorini game and how it can get
this knowledge from the components or designs you have.</p><p><span style="color: blue">Implementation Task</span> Implement a strategy component that supports two
pieces of functionality for a fixed player: (1) placing a worker for the
player during the start-up phase of Santorini and (2) picking the next
action to take when it is the player&rsquo;s turn.</p><p><div class="SIntrapara">For the <span style="font-style: italic">placement-of-workers</span> functionality, implement two
ideas:
</div><div class="SIntrapara"><ul><li><p>place the worker on the first point of the diagonal that is still
free, starting from <span style="font-style: italic"></span>(<span style="font-style: italic"></span>0<span style="font-style: italic">,</span>0<span style="font-style: italic"></span>)<span style="font-style: italic"></span>.</p></li><li><p>place the worker on a field that is as far away from the other
player&rsquo;s worker(s) using the notion of geometric distance on a Cartesian
plane.</p></li></ul></div><div class="SIntrapara"><span style="font-weight: bold">Note</span> Neither of these ideas is any good for real games.</div></p><p>For the <span style="font-style: italic">choice-of-action</span> functionality, the strategy component will
<span class="refelem"><span class="refcolumn"><span class="refcontent"><a href="10.md">Lecture 10</a> will briefly introduce game
trees.</span></span></span>  rely on the generation and exploration of a complete game
tree. While the game tree for our variant of Santorini is guaranteed to be
finite, it is also guaranteed to be extremely large. Hence you will want to
generate only those pieces that are absolutely necessary and suspend the
generation of others until needed.</p><p>The choice-of-action functionality uses the game tree to explore the
question whether a player&rsquo;s action ensures that the opponent cannot make a
winning move after <span style="font-style: italic">n</span> rounds of play. A <span style="font-style: italic">round of play</span>
denotes any player taking any turn action.</p><p><span style="font-weight: bold">Mock-up Context</span> To test such a small system of a number of
components, it is common to implement a mock-up environment.</p><p><div class="SIntrapara">Create a system-level test harness, called <span class="stt">xstrategy</span>, which can read
and interpret sequences of JSON values (from
<span class="stt">STDIN</span> and to <span class="stt">STDOUT</span>, respectively). The harness will test
<span style="font-style: italic">only</span> the choice-of-action functionality. Each test will consist of a
sequence as follows:
</div><div class="SIntrapara"><ul><li><p>a JSON string, the name of a player,</p></li><li><p>a <a href="6.html#%28tech._board%29" class="techoutside" data-pltdoc="x"><span class="techinside">Board</span></a> specification that is not final,</p></li><li><p>a JSON (natural) number, denoting the number of
<span class="refelem"><span class="refcolumn"><span class="refcontent">For the sake of testing, this number is restricted to less or equal to <span class="stt">4</span>.</span></span></span>
look-ahead rounds,</p></li><li><p>an <span style="color: blue">optional</span> <a href="6.html#%28tech._move%29" class="techoutside" data-pltdoc="x"><span class="techinside">Move</span></a>, and</p></li><li><p>a <a href="7.html#%28tech._movebuild%29" class="techoutside" data-pltdoc="x"><span class="techinside">MoveBuild</span></a> if <span style="color: red">(1)</span> <a href="6.html#%28tech._move%29" class="techoutside" data-pltdoc="x"><span class="techinside">Move</span></a> <span style="color: red">is specified and (2)</span> the <a href="6.html#%28tech._move%29" class="techoutside" data-pltdoc="x"><span class="techinside">Move</span></a> is not a winning one.</p></li></ul></div><div class="SIntrapara">The specified player will take this action on the specified board. The
expected result is either <span class="stt">"yes"</span>&#8212;<wbr></wbr>meaning the action does not lead to
a loss within the specified number of rounds&#8212;<wbr></wbr>and <span class="stt">"no"</span>&#8212;<wbr></wbr>meaning the
action may lead to a loss within the specified number of rounds.</div></p><p><div class="SIntrapara">Here is a first sample input: <span class="refelem"><span class="refcolumn"><span class="refcontent">No, neither of these initial
board configuration is realizable, but a natural implementation of the
strategy component will cope.</span></span></span>
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0"><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">"one"</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">[["0one1", "1one2", 3, "2two1"],</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">[0,</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">"2two2", 3]]</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">2</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">["move","one2",["WEST","SOUTH"]]</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">["+build",["PUT","SOUTH"]]</span></p></td></tr></table></div><div class="SIntrapara">and of course the output must be <span class="stt">"no"</span>. The second example illustrates
how deep planning ahead can work:
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0"><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">"one"</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">[["0one1", "0one2"],</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">[3,</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">0],</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">["0two1", "0two2"]]</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">3</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">["move","one1",["EAST","SOUTH"]]</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">["+build",["WEST","PUT"]]</span></p></td></tr></table></div><div class="SIntrapara">The answer here is <span class="stt">"yes"</span>, because it takes at least 3 steps to create
a three-story building.</div></p><p>As always, you may assume well-formed and valid JSON
values. <span style="color: blue">Additionally, you may assume that the requested action is
legitimate with respect to the given board.</span></p><p>Make sure to create a <span class="stt">testme</span> script that we can use to run your unit
tests during code walks.</p><p><span style="color: blue">Testing Task</span> Develop five system-level tests to be used with your test
harness. A test consists of a pair of files: <span style="font-style: italic">n</span><span class="stt">-in.json</span> for an
input sequence and
<span style="font-style: italic">n</span><span class="stt">-out.json</span> where <span style="font-style: italic">n</span> is in <span class="stt">1</span>, <span class="stt">2</span>, <span class="stt">3</span>, <span class="stt">4</span>
or <span class="stt">5</span>.</p><div class="navsetbottom"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="7fest.html" title="backward to &quot;Week 7 Test Results&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="assignments.html" title="up to &quot;Projects, Specifics&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="8fest.html" title="forward to &quot;Week 8 Test Results&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>