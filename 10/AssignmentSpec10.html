<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>10 --- Implementing an Observer</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Software Development</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right"></td><td><a href="abstract.html" class="tocviewlink" data-pltdoc="x">Abstract</a></td></tr><tr><td align="right"></td><td><a href="general.html" class="tocviewlink" data-pltdoc="x">General</a></td></tr><tr><td align="right"></td><td><a href="schedule.html" class="tocviewlink" data-pltdoc="x">Schedule</a></td></tr><tr><td align="right"></td><td><a href="lectures.html" class="tocviewlink" data-pltdoc="x">Lectures</a></td></tr><tr><td align="right"></td><td><a href="readings.html" class="tocviewlink" data-pltdoc="x">Readings</a></td></tr><tr><td align="right"></td><td><a href="communication.html" class="tocviewlink" data-pltdoc="x">Communication</a></td></tr><tr><td align="right"></td><td><a href="lab.html" class="tocviewlink" data-pltdoc="x">Lab Book</a></td></tr><tr><td align="right"></td><td><a href="projects.html" class="tocviewlink" data-pltdoc="x">Projects, General</a></td></tr><tr><td align="right"></td><td><a href="assignments.html" class="tocviewselflink" data-pltdoc="x">Projects, Specifics</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9660;</a></td><td></td><td><a href="assignments.html" class="tocviewlink" data-pltdoc="x">Projects, Specifics</a></td></tr></table><div class="tocviewsublist" style="display: block;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right"></td><td><a href="readme.html" class="tocviewlink" data-pltdoc="x">Read Me</a></td></tr><tr><td align="right"></td><td><a href="testme.html" class="tocviewlink" data-pltdoc="x">Test Me</a></td></tr><tr><td align="right"></td><td><a href="resources.html" class="tocviewlink" data-pltdoc="x">Resources</a></td></tr><tr><td align="right"></td><td><a href="santorini.html" class="tocviewlink" data-pltdoc="x">Santorini</a></td></tr><tr><td align="right"></td><td><a href="1.html" class="tocviewlink" data-pltdoc="x">1 &#8212;<wbr></wbr> Your Favorite Programming Language</a></td></tr><tr><td align="right"></td><td><a href="2.html" class="tocviewlink" data-pltdoc="x">2 &#8212;<wbr></wbr> Exploring Your Favorite Programming Language</a></td></tr><tr><td align="right"></td><td><a href="3.html" class="tocviewlink" data-pltdoc="x">3 &#8212;<wbr></wbr> Exploring Your Favorite Programming Language Some More</a></td></tr><tr><td align="right"></td><td><a href="fest3.html" class="tocviewlink" data-pltdoc="x"><span style="color: red">Week 3 Test Results</span></a></td></tr><tr><td align="right"></td><td><a href="4.html" class="tocviewlink" data-pltdoc="x">4 &#8212;<wbr></wbr> Implementing Protocols, Analyzing the Project</a></td></tr><tr><td align="right"></td><td><a href="4fest.html" class="tocviewlink" data-pltdoc="x"><span style="color: red">Week 4 Grades</span></a></td></tr><tr><td align="right"></td><td><a href="5.html" class="tocviewlink" data-pltdoc="x">5 &#8212;<wbr></wbr> Designing Interfaces for the Common Ontology</a></td></tr><tr><td align="right"></td><td><a href="6.html" class="tocviewlink" data-pltdoc="x">6 &#8212;<wbr></wbr> Implementing Common Pieces</a></td></tr><tr><td align="right"></td><td><a href="6fest.html" class="tocviewlink" data-pltdoc="x"><span style="color: red">Week 6 Test Results</span></a></td></tr><tr><td align="right"></td><td><a href="7.html" class="tocviewlink" data-pltdoc="x">7 &#8212;<wbr></wbr> Implementing <span class="strike" style="text-decoration:line-through">the Player Interface and</span> the Rule Checker</a></td></tr><tr><td align="right"></td><td><a href="7fest.html" class="tocviewlink" data-pltdoc="x"><span style="color: red">Week 7 Test Results</span></a></td></tr><tr><td align="right"></td><td><a href="8.html" class="tocviewlink" data-pltdoc="x">8 &#8212;<wbr></wbr> Implementing the Player&rsquo;s <span class="strike" style="text-decoration:line-through">and its</span> Strategy</a></td></tr><tr><td align="right"></td><td><a href="8fest.html" class="tocviewlink" data-pltdoc="x"><span style="color: red">Week 8 Test Results</span></a></td></tr><tr><td align="right"></td><td><a href="9.html" class="tocviewlink" data-pltdoc="x">9 &#8212;<wbr></wbr> Implementing the Referee</a></td></tr><tr><td align="right"></td><td><a href="9fest.html" class="tocviewlink" data-pltdoc="x"><span style="color: red">Week 9 Code Inspection Results</span></a></td></tr><tr><td align="right"></td><td><a href="" class="tocviewselflink" data-pltdoc="x">10 &#8212;<wbr></wbr> Implementing an Observer</a></td></tr><tr><td align="right"></td><td><a href="10fest.html" class="tocviewlink" data-pltdoc="x"><span style="color: red">Week 10 Test Results</span></a></td></tr><tr><td align="right"></td><td><a href="11.html" class="tocviewlink" data-pltdoc="x">11 &#8212;<wbr></wbr> Implementing the Tournament Manager</a></td></tr><tr><td align="right"></td><td><a href="11fest.html" class="tocviewlink" data-pltdoc="x"><span style="color: red">Week 11 Test Results</span></a></td></tr><tr><td align="right"></td><td><a href="12.html" class="tocviewlink" data-pltdoc="x">12 &#8212;<wbr></wbr> Implementing Tournament Observers&#8212;<wbr></wbr><span style="color: red">Bonus</span></a></td></tr><tr><td align="right"></td><td><a href="12fest.html" class="tocviewlink" data-pltdoc="x"><span style="color: red">Week 12 Code Inspection Results</span></a></td></tr><tr><td align="right"></td><td><a href="13.html" class="tocviewlink" data-pltdoc="x">13 &#8212;<wbr></wbr> Implementing Remote Proxies</a></td></tr><tr><td align="right"></td><td><a href="13fest.html" class="tocviewlink" data-pltdoc="x"><span style="color: red">Week 13 Test Results</span></a></td></tr><tr><td align="right"></td><td><a href="14.html" class="tocviewlink" data-pltdoc="x">14 &#8212;<wbr></wbr> Time to Reflect</a></td></tr><tr><td align="right"></td><td><a href="14fest.html" class="tocviewlink" data-pltdoc="x"><span style="color: red">Week 14 Memo Inspection Results</span></a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;">&bull;</td><td></td><td><a href="" class="tocviewselflink" data-pltdoc="x">10 &#8212;<wbr></wbr> Implementing an Observer</a></td></tr></table></div></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">7.1.0.8</span></div><div class="navsettop"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="9fest.html" title="backward to &quot;Week 9 Code Inspection Results&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="assignments.html" title="up to &quot;Projects, Specifics&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="10fest.html" title="forward to &quot;Week 10 Test Results&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h4><a name="(part._10)"></a>10 &#8212;<wbr></wbr> Implementing an Observer</h4><a name="(part._chap~3a10)"></a><p><span style="font-weight: bold">Due</span> Monday, October 29, midnight</p><p><span style="font-weight: bold">Delivery</span> For this assignment, add an <span class="stt">Observer</span> directory. Then
place the design documents into the <span class="stt">Design/</span> folder and
Santorini-specific code into the appropriate <span class="stt">Santorini/</span> sub-directory.
Place <span class="stt">xobserve</span> into your <span class="stt">10/</span> folder.</p><p><span style="color: blue">Design Task</span> Your team can finally run the first complete Santorini game
between two autonomous ("AI-ish") players. The plan calls for the implementation
of a tournament manager as the next step. The manager will continue to use your
own, "in-house" players but you can also begin to imagine now how to plug in
players from other groups to run competitive tournaments.</p><p>Design a tournament manager, which deals with a fixed but arbitrary number of
players and runs a round-robin tournament of all players. Clearly, the essence
of the manager is basically a function from the players to the result of the
tournament, but its description ("purpose statement") must address questions
such as how to start the tournament, what to do with broken players, how to
report the results, and more. Organize your interface description appropriately;
separate the information needed by a client from the one needed by a future
implementor.</p><p><span style="color: blue">Implementation Task</span> Modify your referee component so that its context can
register an observer. The referee must inform an arbitrary number of observers
about three kinds of events: (1) the modification of the game board, (2) the
request of a player to take a specific action, and (3) misbehavior by one of the
players. For the last one, it suffices to send an informative text back to the
observer.  Implement an observer component that renders its data representation
as <span class="strike" style="text-decoration:line-through">plain text</span> a JSON value to <span class="stt">STDOUT</span>.</p><p><div class="SIntrapara">Also produce a harness that runs a game via one referee, two players, and an
observer. Call it <span class="stt">xobserve</span>. The harness consumes no input; it renders
the three kinds of event notification as JSON values to <span class="stt">STDOUT</span>:
</div><div class="SIntrapara"><ul><li><p><a href="6.html#%28tech._board%29" class="techoutside" data-pltdoc="x"><span class="techinside">Board</span></a>, that is, as a JSON array of JSON arrays</p></li><li><p><div class="SIntrapara">an <a name="(tech._action)"></a><span style="font-style: italic">Action</span> as either
</div><div class="SIntrapara"><ul><li><p>String, which represents the name of a player that is giving up;</p></li><li><p><span class="stt">[</span><a href="6.html#%28tech._worker%29" class="techoutside" data-pltdoc="x"><span class="techinside">Worker</span></a><span class="stt">,</span><a href="6.html#%28tech._eastwest%29" class="techoutside" data-pltdoc="x"><span class="techinside">EastWest</span></a><span class="stt">,</span><a href="6.html#%28tech._northsouth%29" class="techoutside" data-pltdoc="x"><span class="techinside">NorthSouth</span></a><span class="stt">]</span>,
which represents a winning move; or</p></li><li><p><span class="stt">[</span><a href="6.html#%28tech._worker%29" class="techoutside" data-pltdoc="x"><span class="techinside">Worker</span></a><span class="stt">,</span><a href="6.html#%28tech._eastwest%29" class="techoutside" data-pltdoc="x"><span class="techinside">EastWest</span></a><span class="stt">,</span><a href="6.html#%28tech._northsouth%29" class="techoutside" data-pltdoc="x"><span class="techinside">NorthSouth</span></a><span class="stt">,</span><a href="6.html#%28tech._eastwest%29" class="techoutside" data-pltdoc="x"><span class="techinside">EastWest</span></a><span class="stt">,</span><a href="6.html#%28tech._northsouth%29" class="techoutside" data-pltdoc="x"><span class="techinside">NorthSouth</span></a><span class="stt">]</span>,
which represents a request to move the specified worker and build in the
specified directions. The first pair of directions specify the move, the
second one the building step.</p></li></ul></div></p></li><li><p>String, which represents an error message or a final result
notification.</p></li></ul></div><div class="SIntrapara">A successful game is likely to be a roughly alternating sequence of boards
and actions ended in a message that indicates who won the game.</div></p><div class="navsetbottom"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="9fest.html" title="backward to &quot;Week 9 Code Inspection Results&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="assignments.html" title="up to &quot;Projects, Specifics&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="10fest.html" title="forward to &quot;Week 10 Test Results&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>